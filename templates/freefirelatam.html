<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Free Fire Latam - Recarga</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='freefirelatam.css') }}">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="juego-container">
    <h1 class="juego-titulo">Free Fire Latam</h1>

    <form class="juego-form" onsubmit="handleRecharge(event)">
      <label for="amount-select">Selecciona el Monto</label>
      <select id="amount-select" required>
        <option value="">-- Selecciona un monto --</option>
        <option value="100|1.99">100 ðŸ’Ž - $1.99</option>
        <option value="310|4.99">310 ðŸ’Ž - $4.99</option>
        <option value="520|9.99">520 ðŸ’Ž - $9.99</option>
        <option value="1080|19.99">1080 ðŸ’Ž - $19.99</option>
        <option value="2200|39.99">2200 ðŸ’Ž - $39.99</option>
        <option value="5600|99.99">5600 ðŸ’Ž - $99.99</option>
      </select>

      <button type="submit">Validar Recarga</button>
    </form>

    <div class="juego-descripcion">
      <h3>DescripciÃ³n del Juego</h3>
      <p>Free Fire Latam es la versiÃ³n latinoamericana del popular battle royale. Recarga diamantes para obtener armas, skins y otros elementos premium.</p>
      <p><strong>Saldo actual:</strong> ${{ balance }}</p>
      <div id="message" class="message"></div>
    </div>
  </div>

  <script>
    function handleRecharge(event) {
      event.preventDefault();

      const select = document.getElementById('amount-select');
      const messageDiv = document.getElementById('message');

      if (!select.value) {
        showMessage('Por favor selecciona un monto', 'error');
        return;
      }

      const [diamonds, price] = select.value.split('|');
      const transactionId = 'FF-' + Date.now();

      showMessage('Procesando recarga...', 'info');

      setTimeout(() => {
        showMessage(`Â¡Recarga exitosa! ${diamonds} diamantes agregados. Precio: $${price}. ID: ${transactionId}`, 'success');
        select.value = '';
      }, 2000);
    }

    function showMessage(text, type) {
      const messageDiv = document.getElementById('message');
      messageDiv.textContent = text;
      messageDiv.className = 'message ' + type;
    }
  </script>
</body>
</html>